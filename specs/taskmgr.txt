<project_specification>
  <project_name>Task Management App - Simple CRUD Application</project_name>

  <overview>
    Build a simple, clean web-based task management application with basic CRUD functionality.
    The application should provide an intuitive interface for creating, reading, updating, and
    deleting tasks with essential features like due dates, completion status, and filtering.
    Focus on simplicity, usability, and responsive design that works well on both mobile
    and desktop devices.
  </overview>

  <technology_stack>
    <frontend>
      <framework>React with Vite</framework>
      <styling>Tailwind CSS (via CDN)</styling>
      <state_management>React hooks and context</state_management>
      <routing>None needed (single page app)</routing>
      <date_handling>Native Date objects or date-fns</date_handling>
      <port>Only launch on port {frontend_port}</port>
    </frontend>
    <backend>
      <runtime>Node.js with Express</runtime>
      <database>In-memory storage (Array) with optional file persistence</database>
      <api_integration>RESTful API endpoints</api_integration>
      <middleware>CORS, JSON parsing, error handling</middleware>
    </backend>
    <communication>
      <api>RESTful endpoints</api>
      <data_format>JSON</data_format>
    </communication>
  </technology_stack>

  <prerequisites>
    <environment_setup>
      - Frontend dependencies pre-installed via pnpm or npm
      - Backend code goes in /server directory
      - Install backend dependencies as needed
      - No API keys required for this simple application
    </environment_setup>
  </prerequisites>

  <core_features>
    <task_list_display>
      - Clean list view of all tasks
      - Display task title, description, due date, and completion status
      - Sort tasks by due date (earliest first) by default
      - Visual indicators for overdue tasks
      - Checkbox for marking tasks complete/incomplete
      - Empty state when no tasks exist
    </task_list_display>

    <task_creation>
      - Form to add new tasks with clear validation
      - Input field for task title (required)
      - Textarea for task description (optional)
      - Date picker for due date (required)
      - Clear submit button with loading state
      - Form validation with error messages
      - Auto-focus on title field when form opens
    </task_creation>

    <task_management>
      - Toggle task completion status with checkbox
      - Edit existing tasks inline or via modal
      - Delete tasks with confirmation dialog
      - Visual feedback for all actions
      - Undo option for delete (optional enhancement)
    </task_management>

    <filtering_sorting>
      - Filter tasks by status: All, Completed, Pending
      - Sort options: Due Date, Created Date, Title
      - Real-time filtering as user types
      - Clear filters option
      - Active filter indicators
    </filtering_sorting>

    <responsive_design>
      - Mobile-first responsive layout
      - Touch-optimized interface
      - Adaptive task list for different screen sizes
      - Collapsible forms on mobile
      - Swipe gestures for task actions (optional)
    </responsive_design>

    <user_feedback>
      - Loading states for async operations
      - Success/error notifications
      - Form validation feedback
      - Empty state illustrations/messages
      - Hover states and transitions
    </user_feedback>

    <data_persistence>
      - In-memory storage for basic functionality
      - Optional file-based persistence for demo
      - Auto-save functionality
      - Data export/import (JSON format)
    </data_persistence>
  </core_features>

  <database_schema>
    <data_structure>
      <task_object>
        - id: string (UUID or timestamp-based)
        - title: string (required, max 100 chars)
        - description: string (optional, max 500 chars)
        - dueDate: Date (required)
        - completed: boolean (default: false)
        - createdAt: Date (auto-generated)
        - updatedAt: Date (auto-updated)
      </task_object>

      <storage_format>
        - Primary storage: JavaScript array in memory
        - Optional persistence: JSON file in /data directory
        - Backup/export: JSON download for user
      </storage_format>
    </data_structure>
  </database_schema>

  <api_endpoints_summary>
    <tasks>
      - GET /api/tasks - Retrieve all tasks with optional filtering
      - POST /api/tasks - Create a new task
      - GET /api/tasks/:id - Retrieve a specific task
      - PUT /api/tasks/:id - Update a task
      - DELETE /api/tasks/:id - Delete a task
      - PATCH /api/tasks/:id/toggle - Toggle task completion
    </tasks>

    <utilities>
      - GET /api/health - Health check endpoint
      - GET /api/export - Export all tasks as JSON
      - POST /api/import - Import tasks from JSON
    </utilities>
  </api_endpoints_summary>

  <ui_layout>
    <main_structure>
      - Single column layout for simplicity
      - Header with app title and add task button
      - Filter/sort controls below header
      - Task list as main content area
      - Floating action button for mobile
      - Responsive breakpoints for mobile/tablet/desktop
    </main_structure>

    <header>
      - App title/branding
      - "Add Task" button (prominent)
      - Task count indicator
      - Settings/help buttons (optional)
    </header>

    <controls_bar>
      - Filter dropdown: All, Completed, Pending
      - Sort dropdown: Due Date, Created, Title
      - Search input (optional enhancement)
      - Clear filters button
    </controls_bar>

    <task_list>
      - List of task cards/items
      - Each task shows: checkbox, title, due date, completion status
      - Hover effects and transitions
      - Edit/delete buttons on hover
      - Overdue task highlighting
      - Completed task styling (strikethrough, muted)
    </task_list>

    <task_form>
      - Modal or slide-out panel for task creation/editing
      - Title input field (required)
      - Description textarea (optional)
      - Due date picker (required)
      - Save/Cancel buttons
      - Validation error messages
    </task_form>

    <empty_state>
      - Friendly illustration or icon
      - "No tasks yet" message
      - "Create your first task" call-to-action
      - Helpful tips for getting started
    </empty_state>

    <confirmations>
      - Delete confirmation dialog
      - Success/error notifications
      - Loading spinners
    </confirmations>
  </ui_layout>

  <design_system>
    <color_palette>
      - Primary: Blue or green accent (#3B82F6 or #10B981)
      - Background: White (light mode), Light gray (#F9FAFB)
      - Surface: White with subtle shadow
      - Text: Dark gray (#111827) for primary, #6B7280 for secondary
      - Borders: Light gray (#E5E7EB)
      - Completed tasks: Muted gray (#9CA3AF)
      - Overdue tasks: Red accent (#EF4444)
    </color_palette>

    <typography>
      - Sans-serif system font stack (Inter, SF Pro, system-ui)
      - Headings: font-semibold, text-lg
      - Body: font-normal, text-base
      - Task titles: font-medium
      - Due dates: text-sm, font-normal
    </typography>

    <components>
      <task_card>
        - Rounded corners (8px)
        - Subtle border or shadow
        - Padding: p-4
        - Hover state: shadow elevation
        - Checkbox with custom styling
        - Action buttons on hover
      </task_card>

      <buttons>
        - Primary: Solid background with hover effect
        - Secondary: Border style with hover fill
        - Danger: Red background for delete actions
        - Icon buttons: Square, subtle hover
      </buttons>

      <inputs>
        - Rounded borders with focus ring
        - Clear placeholder text
        - Error states with red border
        - Date picker with calendar UI
      </inputs>

      <checkboxes>
        - Custom styled checkboxes
        - Smooth check animation
        - Clear visual feedback
      </checkboxes>
    </components>

    <animations>
      - Smooth transitions (200ms)
      - Fade in for new tasks
      - Slide in for forms
      - Loading spinners
      - Hover effects
    </animations>
  </design_system>

  <key_interactions>
    <task_creation_flow>
      1. User clicks "Add Task" button
      2. Task form slides in or modal appears
      3. User fills in required fields
      4. Form validates on submission
      5. Task appears in list with animation
      6. Form closes and success notification shows
    </task_creation_flow>

    <task_completion_flow>
      1. User clicks checkbox on task
      2. Task immediately updates visually
      3. Task moves to completed section if filtered
      4. Visual strikethrough and color change
      5. API call updates in background
    </task_completion_flow>

    <task_editing_flow>
      1. User clicks edit button or task title
      2. Task form opens with existing data
      3. User modifies fields
      4. Save updates task in place
      5. Task updates with animation
    </task_editing_flow>

    <task_deletion_flow>
      1. User clicks delete button
      2. Confirmation dialog appears
      3. User confirms deletion
      4. Task removes with fade animation
      5. Success notification shows
    </task_deletion_flow>
  </key_interactions>

  <implementation_steps>
    <step number="1">
      <title>Setup Project Foundation</title>
      <tasks>
        - Initialize React app with Vite
        - Set up Express server with basic middleware
        - Configure Tailwind CSS
        - Create basic project structure
        - Set up development server
      </tasks>
    </step>

    <step number="2">
      <title>Build Backend API</title>
      <tasks>
        - Create in-memory task storage
        - Implement CRUD endpoints
        - Add validation and error handling
        - Set up CORS and middleware
        - Create health check endpoint
      </tasks>
    </step>

    <step number="3">
      <title>Create Basic UI Layout</title>
      <tasks>
        - Build main layout structure
        - Create header with title and add button
        - Add filter/sort controls
        - Design task list container
        - Create empty state component
      </tasks>
    </step>

    <step number="4">
      <title>Implement Task CRUD Operations</title>
      <tasks>
        - Build task creation form
        - Implement task list display
        - Add task editing functionality
        - Create delete with confirmation
        - Connect frontend to backend API
      </tasks>
    </step>

    <step number="5">
      <title>Add Task Management Features</title>
      <tasks>
        - Implement completion toggle
        - Add filtering by status
        - Add sorting options
        - Create due date handling
        - Add overdue task highlighting
      </tasks>
    </step>

    <step number="6">
      <title>Polish and Responsive Design</title>
      <tasks>
        - Optimize for mobile devices
        - Add hover states and transitions
        - Implement loading states
        - Add error handling and notifications
        - Fine-tune typography and spacing
      </tasks>
    </step>

    <step number="7">
      <title>Optional Enhancements</title>
      <tasks>
        - Add data persistence (file-based)
        - Implement search functionality
        - Add bulk operations
        - Create data export/import
        - Add keyboard shortcuts
      </tasks>
    </step>
  </implementation_steps>

  <success_criteria>
    <functionality>
      - All CRUD operations work correctly
      - Task completion toggle functions properly
      - Filtering and sorting work as expected
      - Form validation prevents invalid data
      - Responsive design works on all devices
    </functionality>

    <user_experience>
      - Clean, intuitive interface
      - Fast response times
      - Clear feedback for all actions
      - Mobile-friendly touch interactions
      - Helpful empty states and error messages
    </user_experience>

    <technical_quality>
      - Clean, maintainable code
      - Proper error handling
      - Efficient API design
      - Component-based architecture
      - Good separation of concerns
    </technical_quality>

    <design_polish>
      - Consistent visual design
      - Smooth animations and transitions
      - Professional appearance
      - Good typography and spacing
      - Accessible color contrast
    </design_polish>
  </success_criteria>
</project_specification>
